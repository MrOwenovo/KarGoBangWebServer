<!DOCTYPE html>
<html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="content-type" content="text/html; charset=GBK">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

    <title>等待他人加入</title>
    <link rel="stylesheet" th:href="@{/static/room.css}">
    <script>
        window.onload = init();

        function init() {
            myTImer=setInterval("waitForIn()",1000)
        }
        function waitForIn() {
                    $.get("updateIsReady", {  //使用post方法发送请求
                        //第二个参数是要传递的对象，会以表单数据的方式发送

                    }, function (data) {
                        console.log("data"+data)
                        if (data.length === 4) {
                            window.open("https://f01-1309918226.file.myqcloud.com/42/2022/06/14/KarGoBang1/loading.html?x-cos-traffic-limit=819200","_blank")
                            clearInterval(myTimer)
                        }
                    })
                }
    </script>
</head>

<body>
<div class="container">
    <div class="tit">等待他人加入</div>
    <div class="loader"></div>
<!--    <input type="text" th:name="${_csrf.getParameterName()}" th:value="${_csrf.token}" hidden>-->
</div>
<div class="square">
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>
<div class="circle">
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>
</body>

</html>